(define (repl)
  (display "Welcome to Akeem Scheme.")
  (newline)

  (let loop ()
    (display "> " (current-output-port))
    (let ((input (read)))
      (unless (eof-object? input)
        (let ((value (eval input (interaction-environment))))
          (unless (eq? (void) value)
            (write value (current-output-port))
            (newline (current-output-port)))
          (loop))))))

(define (main args)
  (gc)
  (let ((files (cdr args)))
    (if (null? files)
        (repl)
        (for-each load files))))

(main (command-line))
